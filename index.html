
<html>
<head>
  <title>?WEb</title>
</head>
  <body>
    <!-- Add this before closing body tag -->
<div class="donations-container">
    <h3>Recent Donations</h3>
    <div id="donations-list"></div>
</div>

<script>
async function loadDonations() {
    try {
        const response = await fetch('/api/donations');
        const donations = await response.json();
        
        const html = donations.map(d => `
            <div class="donation-item">
                <span class="donor">${d.donator_name}</span>
                <span class="amount">Rp${Number(d.amount).toLocaleString('id')}</span>
            </div>
        `).join('');
        
        document.getElementById('donations-list').innerHTML = html;
    } catch (err) {
        console.error('Failed to load donations:', err);
    }
}

// Update every 30 seconds
setInterval(loadDonations, 30000);
loadDonations();
</script>

<style>
.donations-container {
    max-width: 600px;
    margin: 20px auto;
    padding: 15px;
    background: #f5f5f5;
    border-radius: 8px;
}

.donation-item {
    display: flex;
    justify-content: space-between;
    padding: 10px;
    margin: 5px 0;
    background: white;
    border-radius: 4px;
}
</style>
  </body>
</html>
